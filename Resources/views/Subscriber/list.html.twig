{% extends basetemplate %}
{% trans_default_domain "IbrowsNewsletterBundle" %}
{% block layout_class %}subscriber-list{% endblock layout_class %}

{% block newsletter_content %}
    <h1>{{ 'subscriber.list'|trans }} ({{ pagination.getTotalItemCount }})</h1>
    <div class="pagination-filter pull-left" style="padding-bottom: 15px;">
        {{ knp_pagination_filter(
                    pagination,
                    {
                        's.id'          : '#',
                        's.firstname'   : 'subscriber.firstname'|trans,
                        's.lastname'   : 'subscriber.lastname'|trans,
                        's.email'   : 'subscriber.email'|trans,
                    }
                )
        }}
    </div>
    <div class="navigation pull-right">
        {{ knp_pagination_render(pagination) }}
    </div>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>{{ knp_pagination_sortable(pagination, '#', 's.id') }}</th>
                <th>{{ knp_pagination_sortable(pagination, 'subscriber.firstname'|trans, 's.firstname') }}</th>
                <th>{{ knp_pagination_sortable(pagination, 'subscriber.lastname'|trans, 's.lastname') }}</th>
                    {#<th>{{ 'subscriber.company'|trans }}</th>#}
                <th>{{ knp_pagination_sortable(pagination, 'subscriber.email'|trans, 's.email') }}</th>
                <th>{{ 'subscriber.groups'|trans }}</th>
                <th>{{ 'ctrl.actions'|trans }}</th>
            </tr>
        </thead>
        <tbody>
            {% for subscriber in pagination %}
                <tr>
                    <td>{{ subscriber.id }}</td>
                    <td>{{ subscriber.firstname }}</td>
                    <td>{{ subscriber.lastname }}</td>
                    {#<td>{{ subscriber.companyname }}</td>#}
                    <td>{{ subscriber.email }}</td>
                    <td>{{ subscriber.groups|join(', ') }}</td>
                    <td>
                        <a class="btn btn-small" href="{{ path('ibrows_newsletter_subscriber_show', { 'id': subscriber.id }) }}">{{ 'ctrl.show'|trans }}</a>
                        <a class="btn btn-small" href="{{ path('ibrows_newsletter_subscriber_edit', { 'id': subscriber.id }) }}">{{ 'ctrl.edit'|trans }}</a>
                        <a class="btn btn-small" href="{{ path('ibrows_newsletter_subscriber_delete', { 'id': subscriber.id }) }}">{{ 'ctrl.delete'|trans }}</a>
                    </td>
                </tr></a>
            {% endfor %}
        </tbody>
    </table>
    <hr />
    <div class="navigation  pull-right">
        {{ knp_pagination_render(pagination) }}
    </div>
    <a class="btn btn-small btn-primary" href="{{ path('ibrows_newsletter_subscriber_create', {  }) }}">{{ 'subscriber.create'|trans }}</a>
{% endblock newsletter_content %}
